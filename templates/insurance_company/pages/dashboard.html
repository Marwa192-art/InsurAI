<!DOCTYPE html>
   <html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">

      <!--=============== REMIXICONS ===============-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.css">

      <!--=============== CSS ===============-->
      <link rel="stylesheet" href="{{ url_for('static', filename = 'css/admindashboard.css') }}">
      <script src="https://cdn.tailwindcss.com"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
      <!--=============== JS ===============-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
      <script src="https://kit.fontawesome.com/b99e675b6e.js"></script>
      <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
      <title>{{ title }}</title>
   </head>

   


   <body>
      <!--=============== HEADER ===============-->
      <header class="header" id="header">
         <div class="header__container">
            <a href="#" class="header__logo">
               <!-- <i class="ri-cloud-fill"></i> -->
               <span></span>
            </a>
            
            <button class="header__toggle" id="header-toggle">
               <i class="ri-menu-line"></i>
            </button>
         </div>
      </header>

      <!--=============== SIDEBAR ===============-->
      <nav class="sidebar" id="sidebar">
         <div class="sidebar__container">
            <div class="sidebar__user">
               <div class="sidebar__img">
                  <img src="{{ url_for('static', filename = 'img/icon/icon-02-light.png') }}" alt="image">
               </div>
   
               <div class="sidebar__info">
                  <h3>InsurSafe AI</h3>
                  <span></span>
               </div>
            </div>

            <div class="sidebar__content">
               <div>
                  <h3 class="sidebar__title">MANAGE</h3>

                  <div class="sidebar__list">
                     <a href="/insurance_company/pages/dashboard" class="sidebar__link active-link">
                        <i class="ri-pie-chart-2-fill"></i>
                        <span>Dashboard</span>
                     </a>
                     
                     <a href="/insurance_company/pages/claimverification2" class="sidebar__link">
                        <i class="ri-robot-2-fill"></i>
                        <span>Image Fraud Detection</span>
                     </a>
                     <a href="/insurance_company/pages/claims_history2" class="sidebar__link active-link">
                        <i class="ri-profile-fill"></i>
                        <span>Fraud Detection History</span>
                     </a>
                     <a href="/insurance_company/pages/usermanagement" class="sidebar__link">
                        <i class="ri-group-fill"></i>
                        <span>Users Management</span>
                     </a>

                        
      <!--=============== SIDEBAR 

                    <a href="#" class="sidebar__link">
                        <i class="ri-building-2-fill"></i>
                        <span>Companies</span>
                     </a>

                     <a href="#" class="sidebar__link">
                        <i class="ri-profile-fill"></i>
                        <span>Applications</span>
                     </a>

                     
                     <a href="#" class="sidebar__link">
                      <i class="ri-bank-card-fill"></i>
                      <span>Payments</span>
                   </a>
                  </div>
               </div>

               <div>
                  <h3 class="sidebar__title">SETTINGS</h3>

                  <div class="sidebar__list">
                     <a href="#" class="sidebar__link">
                        <i class="ri-settings-3-fill"></i>
                        <span>Settings</span>
                     </a>

                     <a href="#" class="sidebar__link">
                        <i class="ri-mail-unread-fill"></i>
                        <span>My Messages</span>
                     </a>

                     <a href="#" class="sidebar__link">
                        <i class="ri-notification-2-fill"></i>
                        <span>Notifications</span>
                     </a>
                  </div>
               </div>
            </div>
      <!--===============  ===============-->

            <div class="sidebar__actions">
               <button>
                  <i class="ri-moon-clear-fill sidebar__link sidebar__theme" id="theme-button">
                     <span>Theme</span>
                  </i>
               </button>

               <a href="\insurance_company_logout" class="sidebar__link">
                  <i class="ri-logout-box-r-fill"></i>
                  <span>Log Out</span>
               </a>
            </div>
         </div>
      </nav>

      <!--=============== MAIN ===============-->
     
      


      <!--=============== MAIN ===============-->
      
                    <!-- =============== MAIN =============== -->
<main class="main container" id="main">
   <h1>Dashboard</h1>
   <!-- Stats Cards -->
   <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
       <div class="bg-white rounded-lg shadow-md p-6">
           <div class="flex items-center justify-between">
               <div>
                   <h3 class="text-gray-500 text-sm">Total Users</h3>
                   <p class="text-3xl font-bold text-gray-800">{{ total_users }}</p>
                   <p class="text-green-500 text-sm mt-1">
                       <i class="fas fa-arrow-up"></i> 
                       {% if user_growth > 100 %} 100%+ {% else %} {{ user_growth }}% {% endif %} this month
                   </p>
               </div>
               <div class="bg-indigo-100 p-3 rounded-full">
                   <i class="fas fa-users text-indigo-500 text-xl"></i>
               </div>
           </div>
       </div>

       <div class="bg-white rounded-lg shadow-md p-6">
           <div class="flex items-center justify-between">
               <div>
                   <h3 class="text-gray-500 text-sm">Claims Analyzed</h3>
                   <p class="text-3xl font-bold text-gray-800">{{ total_claims }}</p>
                   <p class="text-green-500 text-sm mt-1">
                       <i class="fas fa-arrow-up"></i> 
                       {% if claims_growth > 100 %} 100%+ {% else %} {{ claims_growth }}% {% endif %} this month
                   </p>
               </div>
               <div class="bg-blue-100 p-3 rounded-full">
                   <i class="fas fa-building text-blue-500 text-xl"></i>
               </div>
           </div>
       </div>
<!--
       <div class="bg-white rounded-lg shadow-md p-6">
           <div class="flex items-center justify-between">
               <div>
                   <h3 class="text-gray-500 text-sm">Insurance Companies</h3>
                   <p class="text-3xl font-bold text-gray-800">{{ total_companies }}</p>
                   <p class="text-green-500 text-sm mt-1"><i class="fas fa-arrow-up"></i> 12% this month</p>
               </div>
               <div class="bg-blue-100 p-3 rounded-full">
                   <i class="fas fa-file-alt text-blue-500 text-xl"></i>
               </div>
           </div>
       </div>-->

       <div class="bg-white rounded-lg shadow-md p-6">
           <div class="flex items-center justify-between">
               <div>
                   <h3 class="text-gray-500 text-sm">Detected Fraud Cases</h3>
                   <p class="text-3xl font-bold text-gray-800">{{ total_frauds }}</p>
                   <p class="text-red-500 text-sm mt-1">
                       <i class="fas fa-arrow-up"></i> 
                       {% if fraud_growth > 100 %} 100%+ {% else %} {{ fraud_growth }}% {% endif %} increase
                   </p>
               </div>
               <div class="bg-red-100 p-3 rounded-full">
                   <i class="fas fa-exclamation-triangle text-red-500 text-xl"></i>
               </div>
           </div>
       </div>   
   </div>

         <!-- Charts and Activity -->
        <!-- <div class="dashboard-grid">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Recent Analyses</h2>
                </div>
                <div class="space-y-4">
                  <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg">
                      <div class="flex items-center justify-between">
                          <div class="flex items-center">
                              <i class="fas fa-check-circle text-green-500 mr-3 text-xl"></i>
                              <div>
                                  <h4 class="font-medium">Claim </h4>
                                  <p class="text-sm text-gray-600">Toyota Camry - VIN: JT2BF22K1W0123456</p>
                              </div>
                          </div>
                          <div class="text-right">
                              <span class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded">Authentic</span>
                              <p class="text-sm text-gray-500 mt-1">2 minutes ago</p>
                          </div>
                      </div>
                  </div>
                  <div class="bg-red-50 border-l-4 border-red-500 p-4 rounded-r-lg">
                      <div class="flex items-center justify-between">
                          <div class="flex items-center">
                              <i class="fas fa-exclamation-circle text-red-500 mr-3 text-xl"></i>
                              <div>
                                  <h4 class="font-medium">Claim </h4>
                                  <p class="text-sm text-gray-600">Honda Civic - VIN: 1HGEJ8140YL123456</p>
                              </div>
                          </div>
                          <div class="text-right">
                              <span class="bg-red-100 text-red-800 text-xs font-semibold px-2.5 py-0.5 rounded">Potential Fraud</span>
                              <p class="text-sm text-gray-500 mt-1">15 minutes ago</p>
                          </div>
                      </div>
                  </div>
                  <div class="bg-green-50 border-l-4 border-green-500 p-4 rounded-r-lg">
                      <div class="flex items-center justify-between">
                          <div class="flex items-center">
                              <i class="fas fa-check-circle text-green-500 mr-3 text-xl"></i>
                              <div>
                                  <h4 class="font-medium">Claim </h4>
                                  <p class="text-sm text-gray-600">Ford F-150 - VIN: 1FTFW1ET2DFB12345</p>
                              </div>
                          </div>
                          <div class="text-right">
                              <span class="bg-green-100 text-green-800 text-xs font-semibold px-2.5 py-0.5 rounded">Authentic</span>
                              <p class="text-sm text-gray-500 mt-1">1 hour ago</p>
                          </div>
                      </div>
                  </div>
              </div>
            </div>-->
            
           <!-- <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Recent Activity</h2>
                </div>
                <ul class="recent-activity-list">
                    <li class="activity-item">
                        <div class="activity-icon" style="background-color: #4361ee;">
                            <i class="fas fa-user"></i>
                        </div>
                        <div class="activity-content">
                            <div class="activity-title">New user registered</div>
                            <div class="activity-time">5 minutes ago</div>
                        </div>
                    </li>
                    <li class="activity-item">
                        <div class="activity-icon" style="background-color: #4cc9f0;">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="activity-content">
                            <div class="activity-title">New company</div>
                            <div class="activity-time">1 hour ago</div>
                        </div>
                    </li>
                    <li class="activity-item">
                        <div class="activity-icon" style="background-color: #f72585;">
                            <i class="fas fa-exclamation-circle"></i>
                        </div>
                        <div class="activity-content">
                            <div class="activity-title">System alert: Fraud detected</div>
                            <div class="activity-time">15 minutes ago</div>
                        </div>
                    </li>
                    <li class="activity-item">
                        <div class="activity-icon" style="background-color: #f8961e;">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="activity-content">
                            <div class="activity-title">Report generated</div>
                            <div class="activity-time">1 day ago</div>
                        </div>
                    </li>
                </ul>
            </div>
         </div>-->
         <!-- Fraud Analytics -->
         <div class="grid grid-cols-1 lg:grid-cols-1 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow-sm">
               <div class="border-b px-6 py-4">
                  <h2 class="font-bold text-xl">Fraud Detection Trends</h2>
               </div>
               <div class="p-6">
                  <canvas id="fraudTrendsChart" height="150"></canvas>
               </div>
            </div>
         </div>
      </main>
      
      <!--=============== JS ===============-->
      <script src="{{ url_for('static', filename = 'js/admindashboard.js') }}"></script>
      <script>
         // Charts initialization
         document.addEventListener('DOMContentLoaded', function() {
             // Fraud Trends Chart
             const fraudTrendsCtx = document.getElementById('fraudTrendsChart').getContext('2d');
             const fraudTrendsChart = new Chart(fraudTrendsCtx, {
                 type: 'line',
                 data: {
                     labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                     datasets: [{
                         label: 'Claims Analyzed',
                         data: [645, 680, 720, 790, 810, 850, 890, 920, 950, 980, 1020, 1080],
                         backgroundColor: 'rgba(79, 70, 229, 0.1)',
                         borderColor: 'rgba(79, 70, 229, 1)',
                         borderWidth: 2,
                         tension: 0.3,
                         fill: true
                     }, {
                         label: 'Fraud Detected',
                         data: [32, 35, 34, 40, 45, 42, 48, 52, 55, 58, 62, 68],
                         backgroundColor: 'rgba(220, 38, 38, 0.1)',
                         borderColor: 'rgba(220, 38, 38, 1)',
                         borderWidth: 2,
                         tension: 0.3,
                         fill: true
                     }]
                 },
                 options: {
                     responsive: true,
                     plugins: {
                         legend: {
                             position: 'top',
                         },
                         tooltip: {
                             mode: 'index',
                             intersect: false,
                         }
                     },
                     scales: {
                         y: {
                             beginAtZero: true
                         }
                     }
                 }
             });
 
            
         });
     </script>
   </body>
</html>